{"expireTime":9007200917365140000,"key":"transformer-remark-markdown-ast-cf744c63af2454bf865a43a3c719a8fd-gatsby-remark-responsive-iframegatsby-remark-imagesgatsby-remark-external-linksgatsby-remark-header-custom-idsgatsby-remark-code-replsgatsby-remark-embed-snippetgatsby-remark-use-jsxgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Note","position":{"start":{"line":2,"column":2,"offset":2},"end":{"line":2,"column":6,"offset":6},"indent":[]}}],"position":{"start":{"line":2,"column":2,"offset":2},"end":{"line":2,"column":6,"offset":6},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This page is only relevant for React 16 and earlier, and for React Native.","position":{"start":{"line":4,"column":2,"offset":10},"end":{"line":4,"column":76,"offset":84},"indent":[]}}],"position":{"start":{"line":4,"column":2,"offset":10},"end":{"line":4,"column":76,"offset":84},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"React 17 on the web ","position":{"start":{"line":6,"column":2,"offset":88},"end":{"line":6,"column":22,"offset":108},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"does not","position":{"start":{"line":6,"column":24,"offset":110},"end":{"line":6,"column":32,"offset":118},"indent":[]}}],"position":{"start":{"line":6,"column":22,"offset":108},"end":{"line":6,"column":34,"offset":120},"indent":[]}},{"type":"text","value":" use event pooling.","position":{"start":{"line":6,"column":34,"offset":120},"end":{"line":6,"column":53,"offset":139},"indent":[]}}],"position":{"start":{"line":6,"column":2,"offset":88},"end":{"line":6,"column":53,"offset":139},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"/blog/2020/08/10/react-v17-rc.html#no-event-pooling","children":[{"type":"text","value":"Read more","position":{"start":{"line":8,"column":3,"offset":144},"end":{"line":8,"column":12,"offset":153},"indent":[]}}],"position":{"start":{"line":8,"column":2,"offset":143},"end":{"line":8,"column":66,"offset":207},"indent":[]}},{"type":"text","value":" about this change in React 17.","position":{"start":{"line":8,"column":66,"offset":207},"end":{"line":8,"column":97,"offset":238},"indent":[]}}],"position":{"start":{"line":8,"column":2,"offset":143},"end":{"line":8,"column":97,"offset":238},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":8,"column":97,"offset":238},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":10,"column":1,"offset":240},"end":{"line":10,"column":5,"offset":244},"indent":[]}},{"type":"link","title":null,"url":"/docs/events.html","children":[{"type":"html","value":"<code class=\"gatsby-code-text\">SyntheticEvent</code>","position":{"start":{"line":10,"column":6,"offset":245},"end":{"line":10,"column":22,"offset":261},"indent":[]}}],"position":{"start":{"line":10,"column":5,"offset":244},"end":{"line":10,"column":42,"offset":281},"indent":[]}},{"type":"text","value":" objects are pooled. This means that the ","position":{"start":{"line":10,"column":42,"offset":281},"end":{"line":10,"column":83,"offset":322},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">SyntheticEvent</code>","position":{"start":{"line":10,"column":83,"offset":322},"end":{"line":10,"column":99,"offset":338},"indent":[]}},{"type":"text","value":" object will be reused and all properties will be nullified after the event handler has been called. For example, this won’t work:","position":{"start":{"line":10,"column":99,"offset":338},"end":{"line":10,"column":229,"offset":468},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":240},"end":{"line":10,"column":229,"offset":468},"indent":[]}},{"type":"html","lang":"jsx","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">handleChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// This won't work because the event object gets reused.</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Too late!</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":12,"column":1,"offset":470},"end":{"line":19,"column":4,"offset":653},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you need to access event object’s properties after the event handler has run, you need to call ","position":{"start":{"line":21,"column":1,"offset":655},"end":{"line":21,"column":99,"offset":753},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">e.persist()</code>","position":{"start":{"line":21,"column":99,"offset":753},"end":{"line":21,"column":112,"offset":766},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":21,"column":112,"offset":766},"end":{"line":21,"column":113,"offset":767},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":655},"end":{"line":21,"column":113,"offset":767},"indent":[]}},{"type":"html","lang":"jsx","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">handleChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Prevents React from resetting its properties:</span>\n  e<span class=\"token punctuation\">.</span><span class=\"token function\">persist</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Works</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":23,"column":1,"offset":769},"end":{"line":32,"column":4,"offset":956},"indent":[1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":33,"column":1,"offset":957}}}}