{"data":{"markdownRemark":{"html":"<blockquote>\n<p>הערה:</p>\n<p><code class=\"gatsby-code-text\">React.PropTypes</code> הועבר לחבילה אחרת מאז ריאקט גרסה 15.5. אנא השתמש <a href=\"https://www.npmjs.com/package/prop-types\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">בספרייה <code class=\"gatsby-code-text\">prop-types</code> במקום</a>.</p>\n<p>אנו מספקים <a href=\"/blog/2017/04/07/react-v15.5.0.html#migrating-from-react.proptypes\">סקריפט codemod</a> כדי להפוך את ההמרה לאוטומטית.</p>\n</blockquote>\n<p>בשחרור גרסה עיקרית של ריאקט בעתיד, הקוד שמיישם ולידציה של פונקציות PropType יוסר ב-production. כשזה יקרה, כל קוד שקורא לפונקציות אלה באופן ידני (שלא מוסר ב-production) יחזיר שגיאה.</p>\n<h3 id=\"declaring-proptypes-is-still-fine\"><a href=\"#declaring-proptypes-is-still-fine\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>הצהרת PropType זה עדיין בסדר </h3>\n<p>אופן השימוש הנורמלי ב-PropTypes עדיין נתמך:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\">Button<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">highlighted</span><span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>bool\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>כלום לא השתנה פה.</p>\n<h3 id=\"dont-call-proptypes-directly\"><a href=\"#dont-call-proptypes-directly\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>אל תקרא ל-PropTypes ישירות </h3>\n<p>שימוש ב-PropTypes בכל דרך אחרת חוץ מלפרש קומפוננטות ריאקט איתם לא נתמכת יותר:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">var</span> apiShape <span class=\"token operator\">=</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>object<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">statusCode</span><span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">.</span>isRequired\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// לא נתמך!</span>\n<span class=\"token keyword\">var</span> error <span class=\"token operator\">=</span> <span class=\"token function\">apiShape</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">,</span> <span class=\"token string\">'response'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>אם אתה תלוי בשימוש ב-PropTypes כמו בדוגמה, אנו ממליצים לך להשתמש או ליצור fork של PropTypes (<a href=\"https://github.com/aackerman/PropTypes\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">כמו</a> <a href=\"https://github.com/developit/proptypes\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">שתי</a> החבילות האלו).</p>\n<p>אם אתה לא מתקן את האזהרה, הקוד יקרוס ב-production עם ריאקט 16.</p>\n<h3 id=\"if-you-dont-call-proptypes-directly-but-still-get-the-warning\"><a href=\"#if-you-dont-call-proptypes-directly-but-still-get-the-warning\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>אם אתה לא קורא ל-PropTypes ישירות אבל עדיין מקבל את האזהרה </h3>\n<p>בחן את ה-stack trace שנוצר על ידי האזהרה. אתה תמצא את הגדרת הקומפוננטה שאחראית לקריאה הישירה של PropTypes. סביר להניח שהבעיה קשורה ל-PropTypes צד שלישי שעוטף את PropTypes של ריאקט, לדוגמה:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\">Button<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">highlighted</span><span class=\"token operator\">:</span> ThirdPartyPropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">deprecated</span><span class=\"token punctuation\">(</span>\n    PropTypes<span class=\"token punctuation\">.</span>bool<span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'Use `active` prop instead'</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>במקרה זה, הוא מעטפת שקוראת ל- . תבנית זו היא בסדר, אבל מפעילה אזהרה כוזבת בגלל שריאקט חושב שאתה קורא ל-PropTypes ישירות. הקטע הבא יסביר על איך לתקן את בעיה זו בספריה שמיישמת משהו כמו ---. אם זו לא ספריה שכתבת, אתה יכול לפתוח issue על נושא זה.</p>\n<h3 id=\"fixing-the-false-positive-in-third-party-proptypes\"><a href=\"#fixing-the-false-positive-in-third-party-proptypes\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>תיקון האזהרה הכוזבת ב-PropTypes צד שלישי </h3>\n<p>ם אתה מחבר של ספריית PropTypes צד שלישי ואתה נותן למשתמשים לעטוף PropTypes קיימים של ריאקט, יכול להיות שהם יתחילו לראות אזהרות שבאות מהספרייה שלך. זה קורה בגלל שריאקט לא רואה ארגומנט “סודי” אחרון <a href=\"https://github.com/facebook/react/pull/7132\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">שהוא מעביר</a> על מנת לזהות קריאות ידניות של PropTypes.</p>\n<p>הנה איך לתקן את זה. נשתמש ב-<code class=\"gatsby-code-text\">deprecated</code> מ-<a href=\"https://github.com/react-bootstrap/react-prop-types/blob/0d1cd3a49a93e513325e3258b28a82ce7d38e690/src/deprecated.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-bootstrap/react-prop-types</a> כדוגמה. היישום הנוכחי מעביר מטה רק את הארגומנטים <code class=\"gatsby-code-text\">props</code>, <code class=\"gatsby-code-text\">propName</code> ו-<code class=\"gatsby-code-text\">componentName</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">deprecated</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">propType<span class=\"token punctuation\">,</span> explanation</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">,</span> propName<span class=\"token punctuation\">,</span> componentName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">[</span>propName<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> message <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>propName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\" property of \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>componentName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\" has been deprecated.\\n</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>explanation<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>warned<span class=\"token punctuation\">[</span>message<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">warning</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        warned<span class=\"token punctuation\">[</span>message<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token function\">propType</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">,</span> propName<span class=\"token punctuation\">,</span> componentName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>על מנת לתקן את האזהרה הכוזבת, וודא כי אתה מעביר את <strong>כל</strong> הארגומנטים מטה ל-PropType העטוף. זה קל לביצוע בעזרת <code class=\"gatsby-code-text\">…rest</code> של ES6:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">deprecated</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">propType<span class=\"token punctuation\">,</span> explanation</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">,</span> propName<span class=\"token punctuation\">,</span> componentName<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>rest</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// שים לב ל-…rest פה</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">[</span>propName<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> message <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>propName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\" property of \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>componentName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\" has been deprecated.\\n</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>explanation<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>warned<span class=\"token punctuation\">[</span>message<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">warning</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        warned<span class=\"token punctuation\">[</span>message<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token function\">propType</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">,</span> propName<span class=\"token punctuation\">,</span> componentName<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>rest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// וגם פה</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>זה ישתיק את האזהרה.</p>","frontmatter":{"title":"Don't Call PropTypes Warning","next":null,"prev":null},"fields":{"path":"content/warnings/dont-call-proptypes.md","slug":"warnings/dont-call-proptypes.html"}}},"pageContext":{"slug":"warnings/dont-call-proptypes.html"}}